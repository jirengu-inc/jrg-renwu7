<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>task 22-5 </title>
    <style>
      .modal-dialog{
        display: none;
      }
     .modal-dialog .bt{
        display: inline-block;
        padding: 3px 6px;
        border: 1px solid #ccc;
        border-radius: 3px;
        font-size: 14px;
      }
      .modal-dialog a{
        text-decoration: none;
        color: #333;
      }
      .modal-dialog .cover{
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #000;
        opacity: 0.4;
        z-index: 99;
      }
      .modal-dialog .modal-ct{
        position: fixed;
        top: 50%;
        left: 50%;
        background-color: #fff;
        transform: translate(-50%,-50%);
        -webkit-transform:translate(-50%,-50%);
        width:400px;
        border-radius: 3px;
        border-color: #fff;
        z-index: 100;
      }
      .modal-dialog .modal-ct .header{
        position: relative;
        height: 36px;
        line-height: 36px;
        border-bottom: 1px solid #ccc;
      }
      .modal-dialog .modal-ct .header h3{
        margin: 0;
        padding-left: 10px;
        font-size: 16px;
      }
      .modal-dialog .modal-ct .header .close{
        position: absolute;
        right: 10px;
        top: 10px;
        line-height: 1px;
      }
      .modal-dialog .modal-ct .content{
        padding: 10px;
      }
      .modal-dialog .modal-ct .footer{
        padding: 10px;
        border-top: 1px solid #eee;
      }
      .modal-dialog .modal-ct .footer:after{
       content: '';
       display: table;
       clear: both;
      }
      .modal-dialog .modal-ct .footer .btn{
        float: right;
        margin-left: 10px;
      }
    </style>
  </head>
  <body>
    <div class="btn-group">
      <button id="btn-modal">点我1</button>
    </div>
    <div id="modal-1" class="modal-dialog">
      <div class="cover"></div>
      <div class="modal-ct">
        <div class="header">
          <h3>我是标题1</h3>
          <a class="close" href="#">x</a>
        </div>
        <div class="content">
          <p>我是内容1</p>
          <p>我是内容1</p>
        </div>
      <div class="footer">
        <a class="btn btn-confirm" href="#">确定</a>
        <a class="btn btn-cancel" href="#">取消</a>
      </div>
      </div>
    </div>
    <script>
       var btn = document.querySelector('#btn-modal'),
           modal = document.querySelector('#modal-1'),
           modalCt =document.querySelector('#modal-1 .modal-ct');
    btn.addEventListener('click',function(e){
      e.stopPropagation();
      showModal(modal);
    });
    modalCt.addEventListener('click',function(e){
        e.stopPropagation();
        if (hasClass(e.target,'close')||hasClass(e.target,'btn-cancel')) {
          hideModal(modal);
        }
    });
    document.body.addEventListener('click',function(){
      hideModal(modal);
    });
    function showModal(modal){
      modal.style.display = 'block';
    }
    function hideModal(model){
      modal.style.display = 'none';
    }
    function hasClass(ele,cls){
      return !!ele.className.match(new RegExp('\\b'+cls+'\\b'));
    }
    </script>
  </body>
</html>
